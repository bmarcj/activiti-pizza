<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:tns="http://activiti.org/bpmn20" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" expressionLanguage="http://www.w3.org/1999/XPath" id="m1490605710545" name="" targetNamespace="http://activiti.org/bpmn20" typeLanguage="http://www.w3.org/2001/XMLSchema">
  <bpmn:process id="simplePizza" isClosed="false" isExecutable="true" processType="None">
    <bpmn:startEvent id="Start"/>
    <bpmn:serviceTask activiti:exclusive="true" activiti:expression="#{orderValidationService.validatePizzaCount(amount, execution)}" id="validateOrder" name="Validate Order"/>
    <bpmn:exclusiveGateway gatewayDirection="Unspecified" id="exclusiveGateway"/>
    <bpmn:endEvent id="endEvent"/>
    <bpmn:manualTask activiti:exclusive="true" id="cookPizza" name="Cook Pizza"/>
    <bpmn:userTask activiti:exclusive="true" id="pizzaReady" name="Pizza Ready"/>
    <bpmn:sequenceFlow id="SequenceFlow_0x90wt8" sourceRef="validateOrder" targetRef="exclusiveGateway"/>
    <bpmn:sequenceFlow id="enoughFlow" name="Enough pizzas" sourceRef="exclusiveGateway" targetRef="cookPizza">
      <bpmn:conditionExpression xsi:type="tFormalExpression"><![CDATA[${pizzaOrderToOven == true}]]></bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="tooManyFlow" name="Too many pizzas" sourceRef="exclusiveGateway" targetRef="endEvent">
      <bpmn:conditionExpression xsi:type="tFormalExpression"><![CDATA[${pizzaOrderToOven == false}]]></bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1kra6l2" sourceRef="Start" targetRef="validateOrder"/>
    <bpmn:sequenceFlow id="SequenceFlow_1rrmfcz" sourceRef="cookPizza" targetRef="pizzaReady"/>
    <bpmn:sequenceFlow id="SequenceFlow_1yxxq3e" sourceRef="pizzaReady" targetRef="endEvent"/>
  </bpmn:process>
  <bpmndi:BPMNDiagram documentation="background=#FFFFFF;count=1;horizontalcount=1;orientation=0;width=842.4;height=1195.2;imageableWidth=832.4;imageableHeight=1185.2;imageableX=5.0;imageableY=5.0" id="Diagram-_1" name="New Diagram">
    <bpmndi:BPMNPlane bpmnElement="simplePizza">
      <bpmndi:BPMNShape bpmnElement="pizzaReady" id="Shape-pizzaReady">
        <dc:Bounds height="55.0" width="85.0" x="605.0" y="295.5"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="55.0" width="85.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="cookPizza" id="Shape-cookPizza">
        <dc:Bounds height="55.0" width="85.0" x="240.0" y="325.5"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="55.0" width="85.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endEvent" id="Shape-endEvent">
        <dc:Bounds height="32.0" width="32.0" x="639.0" y="200.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="32.0" width="32.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusiveGateway" id="Shape-exclusiveGateway" isMarkerVisible="false">
        <dc:Bounds height="32.0" width="32.0" x="257.0" y="200.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="32.0" width="32.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="validateOrder" id="Shape-validateOrder">
        <dc:Bounds height="55.0" width="85.0" x="112.0" y="188.5"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="55.0" width="85.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="Start" id="Shape-Start">
        <dc:Bounds height="32.0" width="32.0" x="20.0" y="200.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="32.0" width="32.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="enoughFlow" id="BPMNEdge_enoughFlow" sourceElement="exclusiveGateway" targetElement="cookPizza">
        <di:waypoint x="273.0" y="232.5"/>
        <di:waypoint x="273.0" y="325.5"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="1.0" width="0.0" x="0.0" y="87.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_1kra6l2" id="BPMNEdge_SequenceFlow_1kra6l2" sourceElement="Start" targetElement="validateOrder">
        <di:waypoint x="51.992185591719476" y="216.0"/>
        <di:waypoint x="112.0" y="216.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="-1.0" width="-1.0" x="-1.0" y="-1.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_1yxxq3e" id="BPMNEdge_SequenceFlow_1yxxq3e" sourceElement="pizzaReady" targetElement="endEvent">
        <di:waypoint x="655.0" y="295.5"/>
        <di:waypoint x="655.0" y="232.5"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="-1.0" width="-1.0" x="-1.0" y="-1.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_1rrmfcz" id="BPMNEdge_SequenceFlow_1rrmfcz" sourceElement="cookPizza" targetElement="pizzaReady">
        <di:waypoint x="325.0" y="353.0"/>
        <di:waypoint x="605.0" y="323.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="-1.0" width="-1.0" x="-1.0" y="-1.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_0x90wt8" id="BPMNEdge_SequenceFlow_0x90wt8" sourceElement="validateOrder" targetElement="exclusiveGateway">
        <di:waypoint x="197.0" y="216.0"/>
        <di:waypoint x="257.5" y="216.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="-1.0" width="-1.0" x="-1.0" y="-1.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="tooManyFlow" id="BPMNEdge_tooManyFlow" sourceElement="exclusiveGateway" targetElement="endEvent">
        <di:waypoint x="288.5" y="216.0"/>
        <di:waypoint x="639.0078144082805" y="216.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="0.0" width="-24.0" x="0.0" y="31.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
